// Generated by CoffeeScript 1.6.3
var assignPositionToForm, getLocation;

getLocation = function() {
  if (navigator.geolocation) {
    return navigator.geolocation.getCurrentPosition(assignPositionToForm);
  } else {
    return x.innerHTML = 'Geolocation is not supported by this browser.';
  }
};

assignPositionToForm = function(position) {
  var map, mapOptions, marker, myLatlng;
  $('#checkin_latitude').val(position.coords.latitude);
  $('#checkin_longitude').val(position.coords.longitude);
  myLatlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
  mapOptions = {
    center: myLatlng,
    zoom: 16,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  map = new google.maps.Map(document.getElementById("map"), mapOptions);
  return marker = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'Hello World!'
  });
};

google.maps.event.addDomListener(window, 'load', getLocation);
